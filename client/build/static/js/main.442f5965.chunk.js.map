{"version":3,"sources":["canvas/Rectangle.js","canvas/Circle.js","canvas/line.js","canvas/textNode.js","canvas/HomePage.js","canvas/Test.js","components/images.js","components/view.js","App.js","reportWebVitals.js","index.js"],"names":["Rectangle","shapeProps","isSelected","onSelect","onChange","shapeRef","React","useRef","trRef","useEffect","current","setNode","getLayer","batchDraw","Fragment","onClick","ref","draggable","onDragEnd","e","x","target","y","onTransformEnd","node","scaleX","scaleY","width","height","Circ","isPaint","fn","mode","addLine","stage","layer","lastLine","on","pos","getPointerPosition","Konva","Line","stroke","strokeWidth","globalCompositeOperation","lineCap","points","add","evt","preventDefault","newPoints","concat","uuidv1","addTextNode","id","textNode","Text","text","fontSize","tr","Transformer","enabledAnchors","boundBoxFunc","oldBox","newBox","Math","max","this","clickStartShape","_id","attachTo","draw","detach","setAttrs","hide","textPosition","absolutePosition","stageBox","container","getBoundingClientRect","areaPosition","left","top","textarea","document","createElement","body","appendChild","value","style","position","padding","border","margin","overflow","background","outline","resize","lineHeight","fontFamily","transformOrigin","textAlign","align","color","fill","rotation","transform","px","removeTextarea","parentNode","removeChild","window","removeEventListener","handleOutsideClick","show","forceUpdate","navigator","userAgent","toLowerCase","indexOf","round","scrollHeight","focus","addEventListener","keyCode","shiftKey","scale","getAbsoluteScale","newWidth","placeholder","length","isSafari","test","isFirefox","ceil","documentMode","setTextareaWidth","setTimeout","require","URLImage","image","unSelectShape","stageScale","onDelete","deleteButton","useImage","src","img","nodes","onMouseEnter","event","getStage","cursor","onMouseLeave","offsetX","offsetY","onTap","Circle","radius","HomePage","useState","rectangles","setRectangles","circles","setCircles","selectedId","selectShape","shapes","setShapes","updateState","stageEl","createRef","layerEl","dragUrl","images","setImages","imageList","tweet","setTweet","tweetLink","setTweetLink","isToggled","setShow","canvasShow","setCanvasShow","btnShow","setBtnShow","btnHide","setBtnHide","prevHide","setPrevHide","editShow","setEditShow","setCheck","tmp","setTmp","tmp2","setTmp2","stageSpec","handleRemove","index","newList","filter","item","prop","onDeleteImage","newImages","splice","getRandomInt","floor","random","handleChange","dataURL","payload","fetch","method","headers","JSON","stringify","then","res","json","key","conveImg","conveImgURL","getElementById","visibility","showCanvas","addImage","setPointersPositions","imgs","getRelativePointerPosition","shs","useCallback","ev","code","findIndex","c","r","i","console","log","loadFn","className","rel","href","type","autoComplete","title","onLoad","onDragStart","class","role","aria-label","rect","rects","circ","circs","lastId","pop","location","reload","map","onDrop","onDragOver","bottom","innerWidth","innerHeight","onMouseDown","newAttrs","slice","circle","toDataURL","tweetdb","sessionStorage","setItem","open","data-size","Home","Images","useParams","comments","setComments","data","setData","axios","get","response","comm","items","for","name","required","autocomplete","rows","comment","View","setImgId","b","getItem","localStorage","App","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.442f5965.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Rect, Transformer } from \"react-konva\";\r\nconst Rectangle = ({ shapeProps, isSelected, onSelect, onChange }) => {\r\n  const shapeRef = React.useRef();\r\n  const trRef = React.useRef();\r\n  React.useEffect(() => {\r\n    if (isSelected) {\r\n      // we need to attach transformer manually\r\n      trRef.current.setNode(shapeRef.current);\r\n      trRef.current.getLayer().batchDraw();\r\n    }   \r\n  }, [isSelected]);\r\n  return (\r\n    <React.Fragment>\r\n      <Rect\r\n        onClick={onSelect}\r\n        ref={shapeRef}\r\n        {...shapeProps}\r\n        draggable\r\n        onDragEnd={e => {\r\n          onChange({\r\n            ...shapeProps,\r\n            x: e.target.x(),\r\n            y: e.target.y(),\r\n          });\r\n        }}\r\n        onTransformEnd={e => {\r\n          // transformer is changing scale\r\n          const node = shapeRef.current;\r\n          const scaleX = node.scaleX();\r\n          const scaleY = node.scaleY();\r\n          node.scaleX(1);\r\n          node.scaleY(1);\r\n          onChange({\r\n            ...shapeProps,\r\n            x: node.x(),\r\n            y: node.y(),\r\n            width: node.width() * scaleX,\r\n            height: node.height() * scaleY,\r\n          });\r\n        }}\r\n      />\r\n      {isSelected && <Transformer ref={trRef} />}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Rectangle;","import React from \"react\";\r\nimport { Circle, Transformer } from \"react-konva\";\r\nconst Circ = ({ shapeProps, isSelected, onSelect, onChange }) => {\r\n  const shapeRef = React.useRef();\r\n  const trRef = React.useRef();\r\n  React.useEffect(() => {\r\n    if (isSelected) {\r\n      trRef.current.setNode(shapeRef.current);\r\n      trRef.current.getLayer().batchDraw();\r\n    }\r\n  }, [isSelected]);\r\n  return (\r\n    <React.Fragment>\r\n      <Circle\r\n        onClick={onSelect}\r\n        ref={shapeRef}\r\n        {...shapeProps}\r\n        draggable\r\n        onDragEnd={(e) => {\r\n          onChange({\r\n            ...shapeProps,\r\n            x: e.target.x(),\r\n            y: e.target.y(),\r\n          });\r\n        }}\r\n        onTransformEnd={(e) => {\r\n          // transformer is changing scale\r\n          const node = shapeRef.current;\r\n          const scaleX = node.scaleX();\r\n          const scaleY = node.scaleY();\r\n          node.scaleX(1);\r\n          node.scaleY(1);\r\n          onChange({\r\n            ...shapeProps,\r\n            x: node.x(),\r\n            y: node.y(),\r\n            width: node.width() * scaleX,\r\n            height: node.height() * scaleY,\r\n          });\r\n        }}\r\n      />\r\n      {isSelected && <Transformer ref={trRef} />}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Circ;\r\n","import Konva from \"konva\";\r\nlet isPaint = false;\r\nconst fn =(mode)=>{\r\n  if (mode === \"none\" ){\r\n  isPaint = false;\r\n  return 0;}\r\n  else if (mode === \"brush\")\r\n  return 4\r\n  else\r\n  return 20\r\n}\r\nexport const addLine = (stage, layer, mode ) => {\r\n  \r\n  let lastLine;\r\n  stage.on(\"mousedown touchstart\", function (e) {\r\n    isPaint = true;\r\n    let pos = stage.getPointerPosition();\r\n    lastLine = new Konva.Line({\r\n      stroke:mode === \"brush\" ? \"black\" : \"white\" ,//mode === \"brush\"?\"black\":mode === \"eraser\"?\"white\":null ,\r\n      strokeWidth:  fn(mode),\r\n      \r\n      globalCompositeOperation:\r\n        mode === \"brush\" ? \"source-over\" : \"destination-out\",\r\n        lineCap: 'round',\r\n      points: [pos.x, pos.y],\r\n\r\n    });\r\n    layer.add(lastLine);\r\n  });\r\n  stage.on(\"mouseup touchend\", function () {\r\n    isPaint = false;\r\n  });\r\n  stage.on(\"mousemove touchmove\", function (e) {\r\n    if (!isPaint) {\r\n      return;\r\n    }\r\n    e.evt.preventDefault();\r\n    const pos = stage.getPointerPosition();\r\n    let newPoints = lastLine.points().concat([pos.x, pos.y]);\r\n    lastLine.points(newPoints);\r\n    // layer.batchDraw();\r\n  });\r\n};\r\n","import Konva from \"konva\";\r\nimport { v1 as uuidv1 } from \"uuid\";\r\nuuidv1();\r\nexport const addTextNode = (stage, layer) => {\r\n  const id = uuidv1();\r\n  const textNode = new Konva.Text({\r\n    text: \"double click to type here\",\r\n    x: 50,\r\n    y: 80,\r\n    // width: 50,\r\n    // height: 100,\r\n    fontSize: 20,\r\n    draggable: true,\r\n    width: 200,\r\n    id,\r\n  });\r\n  layer.add(textNode);\r\n  let tr = new Konva.Transformer({\r\n    node: textNode,\r\n    enabledAnchors: [\"middle-left\", \"middle-right\", \"middle-top\"],\r\n    // set minimum width of text\r\n    boundBoxFunc: function (oldBox, newBox) {\r\n      newBox.width = Math.max(30, newBox.width);\r\n      newBox.height = Math.max(30, newBox.height);\r\n      return newBox;\r\n    },\r\n  });\r\n  stage.on(\"click\", function (e) {\r\n    if (!this.clickStartShape) {\r\n      return;\r\n    }\r\n    if (e.target._id === this.clickStartShape._id) {\r\n      layer.add(tr);\r\n      tr.attachTo(e.target);\r\n      layer.draw();\r\n    } else {\r\n      tr.detach();\r\n      layer.draw();\r\n    }\r\n  });\r\n  textNode.on(\"transform\", function () {\r\n    // reset scale, so only with is changing by transformer\r\n    textNode.setAttrs({\r\n      width: textNode.width() * textNode.scaleX(),\r\n      height: textNode.height() * textNode.scaleY(),\r\n      scaleX: 1,\r\n      scaleY: 1,\r\n      // width: textNode.width() * textNode.scaleX(),\r\n      // scaleX: 1,\r\n    });\r\n  });\r\n  layer.add(tr);\r\n  layer.draw();\r\n  textNode.on(\"dblclick\", () => {\r\n    // hide text node and transformer:\r\n    textNode.hide();\r\n    tr.hide();\r\n    layer.draw();\r\n    let textPosition = textNode.absolutePosition();\r\n    // then lets find position of stage container on the page:\r\n    let stageBox = stage.container().getBoundingClientRect();\r\n    // so position of textarea will be the sum of positions above:\r\n    let areaPosition = {\r\n      x: stageBox.left + textPosition.x,\r\n      y: stageBox.top + textPosition.y,\r\n    };\r\n    // create textarea and style it\r\n    let textarea = document.createElement(\"textarea\");\r\n    document.body.appendChild(textarea);\r\n    // apply many styles to match text on canvas as close as possible\r\n    // remember that text rendering on canvas and on the textarea can be different\r\n    // and sometimes it is hard to make it 100% the same. But we will try...\r\n    textarea.value = textNode.text();\r\n    textarea.style.position = \"absolute\";\r\n    textarea.style.top = areaPosition.y + \"px\";\r\n    textarea.style.left = areaPosition.x + \"px\";\r\n    textarea.style.width = textNode.width() - textNode.padding() * 2 + \"px\";\r\n    textarea.style.height =\r\n      textNode.height() - textNode.padding() * 2 + 5 + \"px\";\r\n    textarea.style.fontSize = textNode.fontSize() + \"px\";\r\n    textarea.style.border = \"none\";\r\n    textarea.style.padding = \"0px\";\r\n    textarea.style.margin = \"0px\";\r\n    textarea.style.overflow = \"hidden\";\r\n    textarea.style.background = \"none\";\r\n    textarea.style.outline = \"none\";\r\n    textarea.style.resize = \"none\";\r\n    textarea.style.lineHeight = textNode.lineHeight();\r\n    textarea.style.fontFamily = textNode.fontFamily();\r\n    textarea.style.transformOrigin = \"left top\";\r\n    textarea.style.textAlign = textNode.align();\r\n    textarea.style.color = textNode.fill();\r\n    let rotation = textNode.rotation();\r\n    let transform = \"\";\r\n    if (rotation) {\r\n      transform += \"rotateZ(\" + rotation + \"deg)\";\r\n    }\r\n    let px = 0;\r\n    let isFirefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\r\n    if (isFirefox) {\r\n      px += 2 + Math.round(textNode.fontSize() / 20);\r\n    }\r\n    transform += \"translateY(-\" + px + \"px)\";\r\n    textarea.style.transform = transform;\r\n    textarea.style.height = \"auto\";\r\n    // after browsers resized it we can set actual value\r\n    textarea.style.height = textarea.scrollHeight + 3 + \"px\";\r\n    textarea.focus();\r\n    function removeTextarea() {\r\n      textarea.parentNode.removeChild(textarea);\r\n      window.removeEventListener(\"click\", handleOutsideClick);\r\n      textNode.show();\r\n      tr.show();\r\n      tr.forceUpdate();\r\n      layer.draw();\r\n      \r\n    }\r\n    function setTextareaWidth(newWidth) {\r\n      if (!newWidth) {\r\n        // set width for placeholder\r\n        newWidth = textNode.placeholder.length * textNode.fontSize();\r\n      }\r\n      // some extra fixes on different browsers\r\n      let isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n      let isFirefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\r\n      if (isSafari || isFirefox) {\r\n        newWidth = Math.ceil(newWidth);\r\n      }\r\n      let isEdge = document.documentMode || /Edge/.test(navigator.userAgent);\r\n      if (isEdge) {\r\n        newWidth += 1;\r\n      }\r\n      textarea.style.width = newWidth + \"px\";\r\n    }\r\n    textarea.addEventListener(\"keydown\", function (e) {\r\n      // hide on enter\r\n      // but don't hide on shift + enter\r\n      if (e.keyCode === 13) {\r\n        textNode.text(textarea.value);\r\n        \r\n        removeTextarea();\r\n        tr.hide();\r\n      }\r\n   \r\n      if (e.keyCode === 13 && !e.shiftKey) {\r\n        textNode.text(textarea.value);\r\n        removeTextarea();\r\n      }\r\n      // on esc do not set value back to node\r\n      if (e.keyCode === 27) {\r\n        removeTextarea();\r\n      }\r\n      \r\n    });\r\n    textarea.addEventListener(\"keydown\", function (e) {\r\n      let scale = textNode.getAbsoluteScale().x;\r\n      setTextareaWidth(textNode.width() * scale);\r\n      textarea.style.height = \"auto\";\r\n      textarea.style.height =\r\n        textarea.scrollHeight + textNode.fontSize() + \"px\";\r\n    });\r\n    function handleOutsideClick(e) {\r\n      if (e.target !== textarea) {\r\n        removeTextarea();\r\n        \r\n      }\r\n       tr.hide();\r\n    }\r\n    setTimeout(() => {\r\n      window.addEventListener(\"click\", handleOutsideClick);\r\n      \r\n    });\r\n    \r\n  });\r\n  return id;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n//import ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport { Button } from \"reactstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Dropzone from \"react-dropzone\";\r\n//import axios from 'axios';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./HomePage.css\";\r\nimport {\r\n  Image as KonvaImage,\r\n  Stage,\r\n  Layer,\r\n  Image,\r\n  Rect,\r\n  Transformer,\r\n} from \"react-konva\";\r\nimport Rectangle from \"./Rectangle\";\r\nimport Circle from \"./Circle\";\r\nimport { addLine } from \"./line\";\r\nimport { addTextNode } from \"./textNode\";\r\nimport useImage from \"use-image\";\r\nimport { v1 as uuidv1 } from \"uuid\";\r\nimport html2canvas from \"html2canvas\";\r\n\r\nimport axios from \"axios\";\r\nconst imageToBase64 = require(\"image-to-base64\");\r\n\r\nuuidv1();\r\n\r\nconst URLImage = ({\r\n  image,\r\n  shapeProps,\r\n  unSelectShape,\r\n  isSelected,\r\n  onSelect,\r\n  onChange,\r\n  stageScale,\r\n  onDelete,\r\n}) => {\r\n  const shapeRef = React.useRef();\r\n  const trRef = React.useRef();\r\n  const deleteButton = React.useRef();\r\n  const [img] = useImage(image.src);\r\n\r\n  React.useEffect(() => {\r\n    if (isSelected) {\r\n      // we need to attach transformer manually\r\n      trRef.current.nodes([shapeRef.current]);\r\n      trRef.current.getLayer().batchDraw();\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const onMouseEnter = (event) => {\r\n    if (isSelected) {\r\n      event.target.getStage().container().style.cursor = \"move\";\r\n    }\r\n    if (!isSelected) {\r\n      event.target.getStage().container().style.cursor = \"pointer\";\r\n    }\r\n  };\r\n\r\n  const onMouseLeave = (event) => {\r\n    event.target.getStage().container().style.cursor = \"default\";\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    unSelectShape(null);\r\n    onDelete(shapeRef.current);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Image\r\n        image={img}\r\n        x={image.x}\r\n        y={image.y}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        // I will use offset to set origin to the center of the image\r\n        offsetX={img ? img.width / 2 : 0}\r\n        offsetY={img ? img.height / 2 : 0}\r\n        onClick={onSelect}\r\n        onTap={onSelect}\r\n        ref={shapeRef}\r\n        {...shapeProps}\r\n        draggable\r\n        onDragEnd={(e) => {\r\n          onChange({\r\n            ...shapeProps,\r\n            x: e.target.x(),\r\n            y: e.target.y(),\r\n          });\r\n        }}\r\n        onTransformEnd={(e) => {\r\n          // transformer is changing scale of the node\r\n          // and NOT its width or height\r\n          // but in the store we have only width and height\r\n          // to match the data better we will reset scale on transform end\r\n          const node = shapeRef.current;\r\n          const scaleX = node.scaleX();\r\n          const scaleY = node.scaleY();\r\n\r\n          // we will reset it back\r\n          node.scaleX(1);\r\n          node.scaleY(1);\r\n          onChange({\r\n            ...shapeProps,\r\n            x: node.x(),\r\n            y: node.y(),\r\n            // set minimal value\r\n            width: Math.max(5, node.width() * scaleX),\r\n            height: Math.max(node.height() * scaleY),\r\n          });\r\n        }}\r\n      />\r\n      {isSelected && (\r\n        <Transformer\r\n          ref={trRef}\r\n          boundBoxFunc={(oldBox, newBox) => {\r\n            // limit resize\r\n            if (newBox.width < 5 || newBox.height < 5) {\r\n              return oldBox;\r\n            }\r\n            return newBox;\r\n          }}\r\n        >\r\n          <Circle\r\n            radius={8}\r\n            fill=\"red\"\r\n            ref={deleteButton}\r\n            onClick={handleDelete}\r\n            x={shapeRef.current.width() * stageScale}\r\n          ></Circle>\r\n        </Transformer>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction HomePage() {\r\n  const [rectangles, setRectangles] = useState([]);\r\n  const [text, setText] = useState([]);\r\n  const [circles, setCircles] = useState([]);\r\n  const [image, setImage] = useState([]);\r\n  const [selectedId, selectShape] = useState(null);\r\n  const [shapes, setShapes] = React.useState([]);\r\n  const [, updateState] = React.useState();\r\n  const stageEl = React.createRef();\r\n  const layerEl = React.createRef();\r\n  const [name, setName] = React.useState(\"\");\r\n  const [name2, setName2] = React.useState(\"\");\r\n  const dragUrl = React.useRef();\r\n  const [images, setImages] = React.useState([]);\r\n\r\n  const [imageList, setImageList] = React.useState([]);\r\n  const [dispImg, setDispImg] = React.useState([]);\r\n  const [tweet, setTweet] = React.useState(\"\");\r\n  const [prevLink, setPrevLink] = React.useState(\"\");\r\n  const [tweetLink, setTweetLink] = React.useState(\"\");\r\n\r\n  const [isToggled, setIsToggled] = React.useState(false);\r\n  const [show, setShow] = React.useState(false);\r\n  const [canvasShow, setCanvasShow] = React.useState(false);\r\n  const [btnShow, setBtnShow] = React.useState(true);\r\n  const [btnHide, setBtnHide] = React.useState(false);\r\n  const [prevHide, setPrevHide] = React.useState(false);\r\n\r\n  const [editShow, setEditShow] = React.useState(false);\r\n  const [check, setCheck] = React.useState(false);\r\n  const [val, setVal] = React.useState([\"\"]);\r\n  const [val2, setVal2] = React.useState([\"\"]);\r\n  const [draw, setDraw] = useState(true);\r\n  // const [notfound, setNotfound] = useState(\"  \")\r\n  const [tmp, setTmp] = useState(\"\");\r\n  const [tmp2, setTmp2] = useState(\"\");\r\n  const [stageSpec, setStageSpec] = useState({\r\n    scale: 1,\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n\r\n  const handleRemove = (index) => {\r\n    const newList = images.filter((item) => item.index !== index);\r\n\r\n    setImages(newList);\r\n  };\r\n\r\n  // const checkDeselect = (e) => {\r\n  //   // deselect when clicked on empty area\r\n  //   const clickedOnEmpty = e.target === e.target.getStage();\r\n  //   if (clickedOnEmpty) {\r\n  //     selectShape(null);\r\n  //   }\r\n  // };\r\n\r\n  const unSelectShape = (prop) => {\r\n    selectShape(prop);\r\n  };\r\n\r\n  const onDeleteImage = (node) => {\r\n    const newImages = [...images];\r\n    newImages.splice(node.index, 1);\r\n    setImages(newImages);\r\n  };\r\n\r\n  const getRandomInt = (max) => {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n  };\r\n\r\n  function editfn() {\r\n    setShow(false);\r\n    setPrevHide(true);\r\n    setEditShow(false);\r\n  }\r\n  const getBase64Image2 = (url) => {\r\n    const varimg2 = document.createElement(\"img\"); //new Image();\r\n    varimg2.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    varimg2.onload = () => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = varimg2.width;\r\n      canvas.height = varimg2.height;\r\n      const ctx = canvas.getContext(\"2d\");\r\n      ctx.drawImage(varimg2, 0, 0);\r\n      const dataURL = canvas.toDataURL(\"image/png\");\r\n      // console.log(\"dataurl = \",dataURL)\r\n      setVal2(dataURL);\r\n    };\r\n    varimg2.src = url;\r\n    // console.log(\"conso\",val)\r\n    return val2;\r\n  }; //hello\r\n  const getBase64Image = (url) => {\r\n    const varimg = document.createElement(\"img\"); //new Image();\r\n    varimg.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    varimg.onload = () => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = varimg.width;\r\n      canvas.height = varimg.height;\r\n      const ctx = canvas.getContext(\"2d\");\r\n      ctx.drawImage(varimg, 0, 0);\r\n      const dataURL = canvas.toDataURL(\"image/png\");\r\n      // console.log(\"dataurl = \",dataURL)\r\n      setVal(dataURL);\r\n    };\r\n    varimg.src = url;\r\n\r\n    return val;\r\n  };\r\n\r\n  function refreshPage() {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  function hideImage() {\r\n    var img = document.getElementById(\"logo\");\r\n    img.style.visibility = \"hidden\";\r\n  }\r\n  function showImage() {\r\n    var img = document.getElementById(\"logo\");\r\n    img.style.visibility = \"visible\";\r\n  }\r\n  async function getBase64(file) {\r\n    let result_base64 = await new Promise((resolve) => {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => resolve(reader.result);\r\n\r\n      reader.readAsDataURL(file);\r\n    });\r\n\r\n    return result_base64;\r\n  }\r\n  //for saving as a screenshot\r\n  const takeshot = async () => {\r\n    let div = await document.getElementById(\"canvass\");\r\n    html2canvas(div, {\r\n      allowTaint: true,\r\n      foreignObjectRendering: true,\r\n      useCORS: true,\r\n    }).then(function (canvas) {\r\n      document.getElementById(\"output\").appendChild(canvas);\r\n    });\r\n  };\r\n\r\n  function gotFile(file) {\r\n    Dropzone.style(\"display\", \"none\");\r\n\r\n    if (file.type === \"image\") {\r\n      var image = new Image();\r\n\r\n      image.onload = function () {\r\n        document.body.appendChild(this);\r\n      };\r\n\r\n      image.src = file.data;\r\n    }\r\n  }\r\n\r\n  const conveImg = (dataURL) => {\r\n    const payload = {\r\n      img: dataURL,\r\n    };\r\n    fetch(\"https://logolego.bookmane.in/api/tmp\", {\r\n      // fetch(\"http://localhost:5000/api/tmp\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    })\r\n      .then(function (res) {\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.key == \"Not Found\") {\r\n          setTmp(null);\r\n        } else if (res.key === \"Search\") {\r\n          setTmp(null);\r\n        } else {\r\n          setTmp(res.key);\r\n        }\r\n      });\r\n  };\r\n\r\n  const conveImgURL = (dataURL) => {\r\n    const payload = {\r\n      img: dataURL,\r\n    };\r\n    // fetch(\"http://localhost:5000/api/tmp/url\", {\r\n    fetch(\"https://logolego.bookmane.in/api/tmp/url\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    })\r\n      .then(function (res) {\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.key == \"Not Found\") {\r\n          setTmp2(null);\r\n        } else if (res.key === \"Search\") {\r\n          setTmp2(null);\r\n        } else {\r\n          setTmp2(res.key);\r\n        }\r\n      });\r\n  };\r\n\r\n  function setImageVisible(id, visible) {\r\n    var img = document.getElementById(id);\r\n    img.style.visibility = visible ? \"visible\" : \"hidden\";\r\n  }\r\n\r\n  const handleChange = (value) => {\r\n    if (value != null) {\r\n      conveImg(value);\r\n      conveImgURL(value);\r\n    }\r\n    showImage();\r\n  };\r\n\r\n  const divRef = React.useRef();\r\n\r\n  const display = () => {\r\n    // const dataURL = stageEl ? stageEl.current.getStage().toDataURL() : null;\r\n\r\n    // const payload = {\r\n    //   img: dataURL,\r\n    // };\r\n    // // console.log(JSON.stringify(payload))\r\n\r\n    // //data.append(\"json\", JSON.stringify(payload))\r\n    // // fetch(\"http://localhost:5000/api/tmp/save\", {\r\n    // fetch(\"https://logolego.bookmane.in/api/save\", {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //   },\r\n    //   body: JSON.stringify(payload),\r\n    // })\r\n    //   .then(function (res) {\r\n    //     return res.json();\r\n    //   })\r\n    //   .then((res) => {\r\n    //     setPrevLink(res);\r\n\r\n    //     sessionStorage.setItem(\"value\", res);\r\n\r\n    //     window.location = ('http://localhost:3000/view')\r\n    //   });\r\n    sessionStorage.setItem(\"value\", tweetLink);\r\n    // window.open('http://localhost:3000/view', \"_blank\")\r\n    window.open(`https://logolego.bookmane.in/images/${tweetLink}`, \"_blank\");\r\n    // window.open(\"https://logolego.bookmane.in/view\", \"_blank\");\r\n    // window.open(`http://localhost:3000/images/${tweetLink}`, \"_blank\")\r\n\r\n    // window.location = ('http://localhost:3000/view')\r\n  };\r\n  var x = 1;\r\n  const erase = () => {\r\n    setDispImg(null);\r\n    setShow(false);\r\n    setCanvasShow(true);\r\n    setPrevHide(true);\r\n    setBtnHide(true);\r\n  };\r\n\r\n  const showCanvas = () => {\r\n    setCanvasShow(true);\r\n    setBtnHide(true);\r\n    setBtnShow(false);\r\n    setPrevHide(true);\r\n\r\n    setCheck(true);\r\n  };\r\n\r\n  const hideCanvas = () => {\r\n    setCanvasShow(false);\r\n    setBtnHide(false);\r\n    setBtnShow(true);\r\n    setPrevHide(false);\r\n  };\r\n\r\n  const preview = () => {\r\n    const dataURL = stageEl ? stageEl.current.getStage().toDataURL() : null;\r\n\r\n    // var link = document.createElement(\"a\");\r\n    // link.href = dataURL;\r\n\r\n    display(); // saves to db\r\n\r\n    // setDispImg(link.href);\r\n    // // setImageVisible(\"img3\",false);\r\n    // setShow(true);\r\n    // setCanvasShow(false);\r\n    // setPrevHide(false);\r\n    // setBtnHide(false);\r\n    // clearFields();\r\n  };\r\n\r\n  function clearFields() {\r\n    document.getElementById(\"myInput\").value = \" \";\r\n    // document.getElementById(\"myInput\").value = \"\";\r\n    // document.getElementById(\"\").value = \"\";\r\n  }\r\n\r\n  const download = () => {\r\n    //get stage dataUrl\r\n    const dataURL = stageEl ? stageEl.current.getStage().toDataURL() : null;\r\n    var link = document.createElement(\"a\");\r\n    link.download = \"react-generator\";\r\n    link.href = dataURL;\r\n    document.body.appendChild(link);\r\n    // link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const addImage = () => {\r\n    stageEl.current.setPointersPositions();\r\n    // add image\r\n\r\n    const imgs = images.concat([\r\n      {\r\n        ...stageEl.current.getRelativePointerPosition(),\r\n        src: dragUrl.current,\r\n        id: `imag${images.length + 1}`,\r\n      },\r\n    ]);\r\n\r\n    setImages(imgs);\r\n    const shs = shapes.concat([`imag${images.length + 1}`]);\r\n    setShapes(shs);\r\n  };\r\n\r\n  //adding rectangles\r\n  const addRectangle = () => {\r\n    const rect = {\r\n      x: getRandomInt(100),\r\n      y: getRandomInt(100),\r\n      width: 100,\r\n      height: 100,\r\n      strokeWidth: 3, // border width\r\n      stroke: \"black\",\r\n      // fill: \"black\",\r\n      id: `rect${rectangles.length + 1}`,\r\n    };\r\n    const rects = rectangles.concat([rect]);\r\n    setRectangles(rects);\r\n    const shs = shapes.concat([`rect${rectangles.length + 1}`]);\r\n    setShapes(shs);\r\n    console.log(\r\n      \"is\",\r\n      rectangles.findIndex((x) => x.id)\r\n    );\r\n  };\r\n\r\n  const addCircle = () => {\r\n    const circ = {\r\n      x: getRandomInt(100),\r\n      y: getRandomInt(100),\r\n      width: 100,\r\n      height: 100,\r\n      strokeWidth: 3, // border width\r\n      stroke: \"black\",\r\n      //fill: \"black\",\r\n      id: `circ${circles.length + 1}`,\r\n    };\r\n    const circs = circles.concat([circ]);\r\n    setCircles(circs);\r\n    const shs = shapes.concat([`circ${circles.length + 1}`]);\r\n    setShapes(shs);\r\n  };\r\n  const drawLine = () => {\r\n    if (draw) addLine(stageEl.current.getStage(), layerEl.current, \"brush\");\r\n  };\r\n  const eraseLine = () => {\r\n    addLine(stageEl.current.getStage(), layerEl.current, \"erase\");\r\n  };\r\n  const doNothing = () => {\r\n    addLine(stageEl.current.getStage(), layerEl.current, \"none\");\r\n  };\r\n  const drawText = () => {\r\n    const id = addTextNode(stageEl.current.getStage(), layerEl.current);\r\n    const shs = shapes.concat([id]);\r\n    setShapes(shs);\r\n  };\r\n\r\n  const forceUpdate = React.useCallback(() => updateState({}), []);\r\n\r\n  const undo = () => {\r\n    const lastId = shapes[shapes.length - 1];\r\n\r\n    let index = circles.findIndex((c) => c.id === lastId);\r\n    if (index !== -1) {\r\n      circles.splice(index, 1);\r\n      setCircles(circles);\r\n    }\r\n    index = rectangles.findIndex((r) => r.id === lastId);\r\n\r\n    if (index !== -1) {\r\n      rectangles.splice(index, 1);\r\n      setRectangles(rectangles);\r\n    }\r\n\r\n    index = images.findIndex((x) => x.id === lastId);\r\n\r\n    // index = images.length - 1;\r\n    if (index !== -1) {\r\n      images.splice(index, 1);\r\n      setImages(images);\r\n    }\r\n    shapes.pop();\r\n    setShapes(shapes);\r\n    forceUpdate();\r\n  };\r\n\r\n  const tweetdb = () => {\r\n    const dataURL = stageEl ? stageEl.current.getStage().toDataURL() : null;\r\n\r\n    const payload = {\r\n      img: dataURL,\r\n    };\r\n    console.log(dataURL)\r\n    fetch(\"http://localhost:5000/api/save\", {\r\n    // fetch(\"https://logolego.bookmane.in/api/save\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    })\r\n      .then(function (res) {\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        setTweetLink(res);\r\n      });\r\n  };\r\n\r\n  const tweetfn = () => {\r\n    tweetdb();\r\n    setShow(true);\r\n    setEditShow(true);\r\n    setPrevHide(false);\r\n  };\r\n\r\n  const undoImage = () => {\r\n    let index = images.length - 1;\r\n    console.log(\"ind-\", index);\r\n    if (index !== -1) {\r\n      console.log(\"len -\", index);\r\n      //  const newImages = [...images];\r\n      images.splice(index, 1);\r\n      setImages(images);\r\n    }\r\n    // shapes.pop();\r\n    // setShapes(shapes);\r\n    forceUpdate();\r\n  };\r\n\r\n  document.addEventListener(\"keydown\", (ev) => {\r\n    if (ev.code === \"Delete\") {\r\n      let index = circles.findIndex((c) => c.id === selectedId);\r\n      if (index !== -1) {\r\n        circles.splice(index, 1);\r\n        setCircles(circles);\r\n      }\r\n      index = rectangles.findIndex((r) => r.id === selectedId);\r\n      if (index !== -1) {\r\n        rectangles.splice(index, 1);\r\n        setRectangles(rectangles);\r\n      }\r\n      index = images.findIndex((i) => i.id === selectedId.id);\r\n      console.log(index)\r\n      if (index !== -1) {\r\n        images.splice(index, 1);\r\n        setImages(images);\r\n      }\r\n\r\n      forceUpdate();\r\n    }\r\n  });\r\n\r\n  const handleClick = () => {\r\n    handleChange(document.getElementById(\"myInput\").value);\r\n  };\r\n\r\n  const loadFn = () => {\r\n    showCanvas();\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      {/* For the icon components  */}\r\n\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\"\r\n      />\r\n      {/* <div id=\"yt-video\">\r\n        <center>\r\n          <iframe\r\n            src=\"https://www.youtube.com/embed/E7wJTI-1dvQ\"\r\n            frameBorder=\"2\"\r\n            margin-top-height=\"50\"\r\n            allow=\"autoplay; encrypted-media\"\r\n            allowFullScreen\r\n            title=\"video\"\r\n            width=\"600\"\r\n            height=\"300\"\r\n          />\r\n        </center>\r\n      </div> */}\r\n      <center>\r\n        <div id=\"input-area\">\r\n          {/* <textarea */}\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search for the required logo\"\r\n            id=\"myInput\"\r\n            // name=\"name\"\r\n\r\n            onChange={(event) => handleChange(event.target.value)}\r\n          />\r\n\r\n          {/* <Button color=\"primary\" id=\"search-btn\" onClick = {handleClick}>Search</Button> */}\r\n        </div>\r\n        {btnShow ? (\r\n          <Button\r\n            color=\"primary\"\r\n            id=\"canvas-show-btn\"\r\n            onClick={showCanvas}\r\n            title=\"Show Canvas\"\r\n          >\r\n            Show Canvas\r\n          </Button>\r\n        ) : null}\r\n      </center>\r\n      <div></div>\r\n      {}\r\n      <center></center>\r\n      <center>\r\n        <img\r\n          key=\"img3\"\r\n          id=\"logo\"\r\n          src={tmp}\r\n          onLoad={loadFn}\r\n          draggable=\"true\"\r\n          onDragStart={(e) => {\r\n            dragUrl.current = e.target.src;\r\n          }}\r\n        />\r\n        <img\r\n          key=\"img3\"\r\n          id=\"logo\"\r\n          src={tmp2}\r\n          onLoad={loadFn}\r\n          draggable=\"true\"\r\n          onDragStart={(e) => {\r\n            dragUrl.current = e.target.src;\r\n          }}\r\n        />\r\n\r\n        {/* <img\r\n          src={getBase64Image2(name2)} //name}\r\n          draggable=\"true\"\r\n          onDragStart={(e) => {\r\n            dragUrl.current = e.target.src;\r\n          }}\r\n        /> */}\r\n      </center>\r\n\r\n      {btnHide ? (\r\n        <Button\r\n          color=\"primary\"\r\n          id=\"canvas-hide-btn\"\r\n          onClick={hideCanvas}\r\n          title=\"Close\"\r\n        >\r\n          <i class=\"fa-solid fa-xmark\"></i>\r\n        </Button>\r\n      ) : null}\r\n\r\n      <div></div>\r\n\r\n      <div className=\"container\">\r\n        {canvasShow ? (\r\n          <div id=\"bts\" role=\"group\" aria-label=\"Basic example\">\r\n            <div></div>\r\n            <Button color=\"primary\" onClick={addRectangle} title=\"Square\">\r\n              <i class=\"fa-regular fa-square\"></i>\r\n            </Button>\r\n            <Button color=\"primary\" onClick={addCircle} title=\"Circle\">\r\n              <i class=\"fa-regular fa-circle\"></i>\r\n            </Button>\r\n            <Button color=\"primary\" onClick={drawLine} title=\"Pen\">\r\n              <i class=\"fa-solid fa-pencil\"></i>\r\n            </Button>\r\n\r\n            <Button color=\"primary\" onClick={eraseLine} title=\"Eraser\">\r\n              <i class=\"fa-solid fa-eraser\"></i>\r\n            </Button>\r\n\r\n            <Button color=\"primary\" onClick={drawText} title=\"Text\">\r\n              <i class=\"fa-solid fa-font\"></i>\r\n            </Button>\r\n\r\n            <Button color=\"primary\" onClick={undo} title=\"Undo Shape\">\r\n              <i class=\"fa-solid fa-delete-left\"></i>\r\n            </Button>\r\n\r\n            <Button color=\"primary\" onClick={doNothing} title=\"Pointer\">\r\n              <i class=\"fas fa-mouse-pointer\"></i>\r\n            </Button>\r\n            <Button color=\"primary\" onClick={refreshPage} title=\"Clear\">\r\n              Clear\r\n            </Button>\r\n\r\n            {isToggled}\r\n          </div>\r\n        ) : null}\r\n        {imageList.map((item) => {\r\n          return (\r\n            <img\r\n              src={item}\r\n              draggable=\"true\"\r\n              onDragStart={(e) => {\r\n                dragUrl.current = item;\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n        <div\r\n          onDrop={(e) => {\r\n            e.preventDefault();\r\n            addImage();\r\n            // register event position\r\n            // stageEl.current.setPointersPositions(e);\r\n            // // add image\r\n            // const imag = {\r\n            //   x: getRandomInt(100),\r\n            //   y: getRandomInt(100),\r\n            //   width: 100,\r\n            //   height: 100,\r\n            //   strokeWidth: 3, // border width\r\n            //   id: `imag${images.length + 1}`,\r\n            // };\r\n\r\n            // const imgs =  images.concat([\r\n            //   {\r\n            //     ...stageEl.current.getRelativePointerPosition(),\r\n            //     src: dragUrl.current,\r\n            //   },\r\n            // ])\r\n\r\n            // setImages(imgs\r\n            //   // images.concat([\r\n            //   //   {\r\n            //   //     ...stageEl.current.getRelativePointerPosition(),\r\n            //   //     src: dragUrl.current,\r\n            //   //   },\r\n            //   // ])\r\n            // );\r\n            // const shs = shapes.concat([`imag${images.length + 1}`]);\r\n            // setShapes(shs);\r\n            // console.log(\"ids\", images.findIndex((x) =>x.id));\r\n          }}\r\n          onDragOver={(e) => e.preventDefault()}\r\n        >\r\n          {canvasShow ? (\r\n            <div id=\"child-canvas\">\r\n              <div\r\n                onDrop={(e) => {\r\n                  e.preventDefault();\r\n                  // register event position\r\n\r\n                  addImage();\r\n                  // stageEl.current.setPointersPositions(e);\r\n                  // // add image\r\n                  // setImages(\r\n                  //   images.concat([\r\n                  //     {\r\n                  //       ...stageEl.current.getRelativePointerPosition(),\r\n                  //       src: dragUrl.current,\r\n                  //     },\r\n                  //   ])\r\n                  // );\r\n                }}\r\n                onDragOver={(e) => e.preventDefault()}\r\n              ></div>\r\n\r\n              <Stage\r\n                style={{\r\n                  border: \"1px solid grey\",\r\n                  width: \"1080px\",\r\n                  height: \"640px\",\r\n                  position: \"relative\",\r\n                  left: \"10px\",\r\n                  bottom: \"20px\",\r\n                  top: \"5px\",\r\n                  background: \"#f4f7f6\",\r\n                }}\r\n                width={window.innerWidth * 0.7}\r\n                height={window.innerHeight - 108}\r\n                ref={stageEl} //,stageRef}\r\n                onMouseDown={(e) => {\r\n                  // deselect when clicked on empty area\r\n                  const clickedOnEmpty = e.target === e.target.getStage();\r\n                  if (clickedOnEmpty) {\r\n                    selectShape(null);\r\n                  }\r\n                }}\r\n              >\r\n                <Layer ref={layerEl}>\r\n                  {images.map((image, index) => {\r\n                    return (\r\n                      <URLImage\r\n                        image={image}\r\n                        key={index}\r\n                        shapeProps={image}\r\n                        stageScale={stageSpec.scale}\r\n                        isSelected={image === selectedId}\r\n                        unSelectShape={unSelectShape}\r\n                        onClick={handleRemove}\r\n                        onSelect={() => {\r\n                          selectShape(image);\r\n                        }}\r\n                        onChange={(newAttrs) => {\r\n                          const rects = images.slice();\r\n                          rects[index] = newAttrs;\r\n                          setImages(rects);\r\n                        }}\r\n                        onDelete={onDeleteImage}\r\n                      />\r\n                    );\r\n                  })}\r\n                  {rectangles.map((rect, i) => {\r\n                    return (\r\n                      <Rectangle\r\n                        key={i}\r\n                        shapeProps={rect}\r\n                        isSelected={rect.id === selectedId}\r\n                        onSelect={() => {\r\n                          selectShape(rect.id);\r\n                        }}\r\n                        onChange={(newAttrs) => {\r\n                          const rects = rectangles.slice();\r\n                          rects[i] = newAttrs;\r\n                          setRectangles(rects);\r\n                        }}\r\n                      />\r\n                    );\r\n                  })}\r\n\r\n                  {circles.map((circle, i) => {\r\n                    return (\r\n                      <Circle\r\n                        key={i}\r\n                        shapeProps={circle}\r\n                        isSelected={circle.id === selectedId}\r\n                        onSelect={() => {\r\n                          selectShape(circle.id);\r\n                        }}\r\n                        onChange={(newAttrs) => {\r\n                          const circs = circles.slice();\r\n                          circs[i] = newAttrs;\r\n                          setCircles(circs);\r\n                        }}\r\n                      />\r\n                    );\r\n                  })}\r\n                </Layer>\r\n              </Stage>\r\n              <div id=\"done-edit\" role=\"group\" aria-label=\"Basic example\">\r\n                {prevHide ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={tweetfn}\r\n                    title=\"Done\"\r\n                    id=\"done-btn\"\r\n                  >\r\n                    <i class=\"fa-solid fa-check\"></i>\r\n                  </Button>\r\n                ) : null}\r\n                {show ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={preview}\r\n                    title=\"Preview\"\r\n                    id=\"preview-btn\"\r\n                  >\r\n                    {/* <i class=\"fa-solid fa-file-image\"></i> */}\r\n                    <i class=\"fa-solid fa-image\"></i>\r\n                  </Button>\r\n                ) : null}\r\n                {editShow ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={editfn}\r\n                    title=\"Edit\"\r\n                    id=\"edit-btn\"\r\n                  >\r\n                    <i class=\"fas fa-edit\"></i>\r\n                  </Button>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          <div>\r\n            {show ? (\r\n              <input\r\n                type=\"text\"\r\n                id=\"tweet-textbox\"\r\n                value={tweet}\r\n                autoComplete=\"off\"\r\n                placeholder=\"Your tweet text goes here\"\r\n                onChange={(e) => setTweet(e.target.value)}\r\n              />\r\n            ) : null}\r\n            {show ? (\r\n              <a\r\n                id=\"twitter-share-button\"\r\n                title=\"Tweet\"\r\n                href={`https://twitter.com/intent/tweet?text=${tweet}&url=https://logolego.bookmane.in/images/${tweetLink}`}\r\n                // href={`https://twitter.com/intent/tweet?text=${tweet}&url=https://logolego.bookmane.in/view/${tweetLink}`}\r\n                data-size=\"large\"\r\n                target=\"_blank\"\r\n              >\r\n                Tweet\r\n              </a>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default HomePage;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nimport Dropzone from \"react-dropzone\";\r\n\r\nimport {DragAndDrop} from \"react-file-drop\"\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./HomePage.css\";\r\nimport { Stage, Layer, Image } from \"react-konva\";\r\nimport Rectangle from \"./Rectangle\";\r\nimport Circle from \"./Circle\";\r\nimport { addLine } from \"./line\";\r\nimport { addTextNode } from \"./textNode\";\r\nimport useImage from \"use-image\";\r\nimport { v1 as uuidv1 } from \"uuid\";\r\nimport html2canvas from \"html2canvas\";\r\n\r\nuuidv1();\r\n//https://www.google.com/s2/favicons?sz=128&domain_url=yahoo.com\r\n//https://www.google.com/s2/favicons?sz=64&domain_url=microsoft.com\r\n//Image drag drop with URLImage\r\nconst URLImage = ({ image }) => {\r\n  const [img] = useImage(image.src);\r\n  return (\r\n    <Image\r\n      image={img}\r\n      x={image.x}\r\n      y={image.y}\r\n      offsetX={img ? img.width / 2 : 0}\r\n      offsetY={img ? img.height / 2 : 0}\r\n    />\r\n  );\r\n};\r\n\r\nfunction Home() {\r\n  const [rectangles, setRectangles] = useState([]);\r\n  const [circles, setCircles] = useState([]);\r\n  const [selectedId, selectShape] = useState(null);\r\n  const [shapes, setShapes] = React.useState([]);\r\n  const [, updateState] = React.useState();\r\n  const stageEl = React.createRef();\r\n  const layerEl = React.createRef();\r\n  const [name, setName] = React.useState(\"\");\r\n  const dragUrl = React.useRef();\r\n  const [images, setImages] = React.useState([]);\r\n  let y;\r\n  const [imageList, setImageList] = React.useState([]);\r\n\r\n  const getRandomInt = (max) => {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n  };\r\n\r\n  async function getBase64(file) {\r\n    let result_base64 = await new Promise((resolve) => {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => resolve(reader.result);\r\n      reader.readAsDataURL(file);\r\n    });\r\n    return result_base64;\r\n  }\r\n\r\n  const takeshot = async () => {\r\n    let div = await document.getElementById(\"canvass\");\r\n\r\n    // Use the html2canvas\r\n    // function to take a screenshot\r\n    // and append it\r\n    // to the output div\r\n    html2canvas(div, {\r\n      allowTaint: true,\r\n      foreignObjectRendering: true,\r\n      useCORS: true,\r\n    }).then(function (canvas) {\r\n      document.getElementById(\"output\").appendChild(canvas);\r\n    });\r\n  };\r\n\r\n  function gotFile(file) {\r\n    Dropzone.style(\"display\", \"none\");\r\n\r\n    if (file.type === \"image\") {\r\n      var image = new Image();\r\n\r\n      image.onload = function () {\r\n        document.body.appendChild(this);\r\n      };\r\n\r\n      image.src = file.data;\r\n    }\r\n  }\r\n\r\n  //end\r\n  const download = () => {\r\n    //get stage dataUrl\r\n    const dataURL = stageEl ? stageEl.current.getStage().toDataURL() : null;\r\n    var link = document.createElement(\"a\");\r\n    link.download = \"react-generator\";\r\n    link.href = dataURL;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const addRectangle = () => {\r\n    const rect = {\r\n      x: getRandomInt(100),\r\n      y: getRandomInt(100),\r\n      width: 100,\r\n      height: 100,\r\n      strokeWidth: 3, // border width\r\n      stroke: \"black\",\r\n      // fill: \"black\",\r\n      id: `rect${rectangles.length + 1}`,\r\n    };\r\n    const rects = rectangles.concat([rect]);\r\n    setRectangles(rects);\r\n    const shs = shapes.concat([`rect${rectangles.length + 1}`]);\r\n    setShapes(shs);\r\n  };\r\n  const addCircle = () => {\r\n    const circ = {\r\n      x: getRandomInt(100),\r\n      y: getRandomInt(100),\r\n      width: 100,\r\n      height: 100,\r\n      strokeWidth: 3, // border width\r\n      stroke: \"black\",\r\n      //fill: \"black\",\r\n      id: `circ${circles.length + 1}`,\r\n    };\r\n    const circs = circles.concat([circ]);\r\n    setCircles(circs);\r\n    const shs = shapes.concat([`circ${circles.length + 1}`]);\r\n    setShapes(shs);\r\n  };\r\n  const drawLine = () => {\r\n    addLine(stageEl.current.getStage(), layerEl.current);\r\n  };\r\n  const eraseLine = () => {\r\n    addLine(stageEl.current.getStage(), layerEl.current, \"erase\");\r\n  };\r\n  const drawText = () => {\r\n    const id = addTextNode(stageEl.current.getStage(), layerEl.current);\r\n    const shs = shapes.concat([id]);\r\n    setShapes(shs);\r\n  };\r\n  const forceUpdate = React.useCallback(() => updateState({}), []);\r\n  const fileChange = (ev) => {\r\n    let file = ev.target.files[0];\r\n    let reader = new FileReader();\r\n\r\n    if (file) {\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  const undo = () => {\r\n    const lastId = shapes[shapes.length - 1];\r\n    let index = circles.findIndex((c) => c.id === lastId);\r\n    if (index !== -1) {\r\n      circles.splice(index, 1);\r\n      setCircles(circles);\r\n    }\r\n    index = rectangles.findIndex((r) => r.id === lastId);\r\n    if (index !== -1) {\r\n      rectangles.splice(index, 1);\r\n      setRectangles(rectangles);\r\n    }\r\n\r\n    shapes.pop();\r\n    setShapes(shapes);\r\n    forceUpdate();\r\n  };\r\n\r\n  document.addEventListener(\"keydown\", (ev) => {\r\n    if (ev.code === \"Delete\") {\r\n      let index = circles.findIndex((c) => c.id === selectedId);\r\n      if (index !== -1) {\r\n        circles.splice(index, 1);\r\n        setCircles(circles);\r\n      }\r\n      index = rectangles.findIndex((r) => r.id === selectedId);\r\n      if (index !== -1) {\r\n        rectangles.splice(index, 1);\r\n        setRectangles(rectangles);\r\n      }\r\n\r\n      forceUpdate();\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"home-page\">\r\n      <div id=\"canvass\">\r\n        <textarea\r\n          autoComplete=\"off\"\r\n          rows=\"4\"\r\n          cols=\"150\"\r\n          placeholder=\"Search for the required logo\"\r\n          id=\"myInput\"\r\n          name=\"name\"\r\n          onChange={(event) =>\r\n            setName(\r\n              \"https://www.google.com/s2/favicons?sz=128&domain_url=\" +\r\n                event.target.value +\r\n                \".com\"\r\n            )\r\n          }\r\n        />\r\n        <textarea\r\n          autoComplete=\"off\"\r\n          rows=\"4\"\r\n          cols=\"150\"\r\n          placeholder=\"Enter the URL to fetch the logo\"\r\n          id=\"myInput\"\r\n          name=\"name\"\r\n          onChange={(event) =>\r\n            setName(\r\n              \"https://www.google.com/s2/favicons?sz=128&domain_url=\" +\r\n                event.target.value\r\n            )\r\n          }\r\n        />\r\n   \r\n        <div></div>\r\n        <Dropzone\r\n           onDrop = {\r\n            (acceptedFiles) => {\r\n                \r\n            y = getBase64(acceptedFiles[0]);\r\n            console.log(acceptedFiles[0])\r\n            y.then((result) => {\r\n              setImageList((prev) => [...prev, result]);\r\n            });\r\n          }}\r\n        >\r\n          {({ getRootProps, getInputProps }) => (\r\n            <section>\r\n              <div {...getRootProps({ className: \"dropzone\" })}>\r\n                <input {...getInputProps()} />\r\n                <p>Drag 'n' drop some files here</p>\r\n              </div>\r\n            </section>\r\n          )}\r\n        </Dropzone>\r\n        <img\r\n          src={name} //name}\r\n          draggable=\"true\"\r\n          onDragStart={(e) => {\r\n            dragUrl.current = e.target.src;\r\n          }}\r\n        />\r\n\r\n        <div></div>\r\n\r\n        <ButtonGroup>\r\n          <Button color=\"primary\" onClick={addRectangle}>\r\n            Rectangle\r\n          </Button>\r\n          <Button color=\"primary\" onClick={addCircle}>\r\n            Circle\r\n          </Button>\r\n          <Button color=\"primary\" onClick={drawLine}>\r\n            Line\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={eraseLine}>\r\n            Erase\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={drawText}>\r\n            Text\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={undo}>\r\n            Undo\r\n          </Button>\r\n          <Button color=\"primary\" onClick={download}>\r\n            Export\r\n          </Button>\r\n        </ButtonGroup>\r\n        {imageList.map((item) => {\r\n          return (\r\n            <img\r\n              src={item}\r\n              draggable=\"true\"\r\n              onDragStart={(e) => {\r\n                dragUrl.current = item;\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n        <div\r\n          onDrop={(e) => {\r\n            e.preventDefault();\r\n            // register event position\r\n            stageEl.current.setPointersPositions(e);\r\n            // add image\r\n            setImages(\r\n              images.concat([\r\n                {\r\n                  ...stageEl.current.getPointerPosition(),\r\n                  src: dragUrl.current,\r\n                },\r\n              ])\r\n            );\r\n          }}\r\n          onDragOver={(e) => e.preventDefault()}\r\n        >\r\n          <Stage\r\n            style={{ border: \"3px solid grey\" }}\r\n            width={window.innerWidth * 0.9}\r\n            height={window.innerHeight - 150}\r\n            ref={stageEl} //,stageRef}\r\n            onMouseDown={(e) => {\r\n              // deselect when clicked on empty area\r\n              const clickedOnEmpty = e.target === e.target.getStage();\r\n              if (clickedOnEmpty) {\r\n                selectShape(null);\r\n              }\r\n            }}\r\n          >\r\n            <Layer ref={layerEl}>\r\n              {images.map((image) => {\r\n                return <URLImage image={image} />;\r\n              })}\r\n              {rectangles.map((rect, i) => {\r\n                return (\r\n                  <Rectangle\r\n                    key={i}\r\n                    shapeProps={rect}\r\n                    isSelected={rect.id === selectedId}\r\n                    onSelect={() => {\r\n                      selectShape(rect.id);\r\n                    }}\r\n                    onChange={(newAttrs) => {\r\n                      const rects = rectangles.slice();\r\n                      rects[i] = newAttrs;\r\n                      setRectangles(rects);\r\n                    }}\r\n                  />\r\n                );\r\n              })}\r\n\r\n              {circles.map((circle, i) => {\r\n                return (\r\n                  <Circle\r\n                    key={i}\r\n                    shapeProps={circle}\r\n                    isSelected={circle.id === selectedId}\r\n                    onSelect={() => {\r\n                      selectShape(circle.id);\r\n                    }}\r\n                    onChange={(newAttrs) => {\r\n                      const circs = circles.slice();\r\n                      circs[i] = newAttrs;\r\n                      setCircles(circs);\r\n                    }}\r\n                  />\r\n                );\r\n              })}\r\n            </Layer>\r\n          </Stage>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"output\"></div>\r\n    </div>\r\n  );\r\n}\r\nexport default Home;\r\n\r\n\r\n// import React, {useCallback} from 'react'\r\n// import {useDropzone} from 'react-dropzone'\r\n\r\n// function MyDropzone() {\r\n//   const onDrop = useCallback(acceptedFiles => {\r\n//     // Do something with the files\r\n//     console.log(acceptedFiles)\r\n//   }, [])\r\n//   const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n//   return (\r\n\r\n//     <div>\r\n//       <img src = \"https://icons.duckduckgo.com/ip3/www.google.com.ico\" draggable = \"true\"/>\r\n//     <div {...getRootProps()}>\r\n//       <input {...getInputProps()} />\r\n//       {\r\n//         isDragActive ?\r\n//           <p>Drop the files here ...</p> :\r\n//           <p>Drag 'n' drop some files here, or click to select files</p>\r\n//       }\r\n//     </div>\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// export default MyDropzone","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"reactstrap\";\r\nimport \"./images.css\";\r\n\r\nconst Images = () => {\r\n  let { id } = useParams();\r\n  const [comments, setComments] = React.useState([]);\r\n\r\n  const [data, setData] = useState([]);\r\n  const display = () => {\r\n    // axios.get(`https://logolego.bookmane.in/api/images/${id}`).then((response)=> {\r\n    axios.get(`http://localhost:5000/api/images/${id}`).then((response) => {\r\n      // console.log(response.data);\r\n      setData(response.data);\r\n      setComments((comm) => [...response.data.comments]);\r\n      // console.log(\"comments\",response.data.comments);\r\n      console.log(response.data.comments);\r\n    });\r\n  };\r\n\r\n  const commentDisplay = () => {\r\n    // fetch(`http://localhost:5000/api/images/${id}`, {\r\n      fetch(`https://logolego.bookmane.in/api/images/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(function (res) {\r\n      console.log(\"asfd\", res.json());\r\n      return res.json();\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    var nm = document.getElementById(\"name\").value;\r\n    var body = document.getElementById(\"body\").value;\r\n    const payload = {\r\n      comment: {\r\n        name: nm,\r\n        body: body,\r\n      },\r\n    };\r\n    // console.log(payload);\r\n    // fetch(`http://localhost:5000/api/update/${id}`, {\r\n      fetch(`https://logolego.bookmane.in/api/update/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    }).then(function (res) {\r\n      return res.json();\r\n    });\r\n    window.location.reload();\r\n    // document.getElementById(\"name\").value = \"\";\r\n    // document.getElementById(\"body\").value = \"\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    // commentDisplay();\r\n    display();\r\n  }, []);\r\n  const items = comments.map((items) => (\r\n    <p>\r\n      {\" \"}\r\n      <label for=\"name\">\r\n        <span>Name:{items.name} </span>\r\n      \r\n      <label for=\"body\">\r\n        Comment: {items.body}\r\n      </label>\r\n      </label>\r\n    </p>\r\n  ));\r\n  return (\r\n    <div>\r\n      <div></div>\r\n      <div id=\"content\">\r\n        <center>\r\n          <img id=\"view_img\" src={data.img} />\r\n        </center>\r\n      </div>\r\n      {items}\r\n      <div id=\"comments\">\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            class=\"question\"\r\n            id=\"name\"\r\n            required\r\n            autocomplete=\"off\"\r\n          />\r\n          <label for=\"name\">\r\n            <span>What's your name?</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"message\"\r\n            rows=\"2\"\r\n            class=\"question\"\r\n            id=\"body\"\r\n            required\r\n            autocomplete=\"off\"\r\n          ></input>\r\n          <label for=\"body\">\r\n            <span>What's your comment?</span>\r\n          </label>\r\n          {/* <input type=\"text\" id=\"name\" placeholder=\"Type your name here\"/>\r\n        <textarea id=\"body\"  placeholder=\"Type your comment here\"/> */}\r\n          <div>\r\n            <p></p>\r\n          </div>\r\n          <Button color=\"primary\" onClick={handleSubmit}>\r\n            Comment\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Images;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./view.css\";\r\n\r\nfunction View() {\r\n  const [tweet, setTweet] = React.useState(\"\");\r\n  const [imgId, setImgId] = React.useState(\"\");\r\n  var b = sessionStorage.getItem(\"value\");\r\n\r\n  const [data, setData] = useState([]);\r\n  \r\n\r\n  \r\n\r\n  const display = () => {\r\n    axios\r\n      .get(\"https://logolego.bookmane.in/api/images/\" + b)\r\n      // (`https://logolego.bookmane.in/api/images/${id}`)\r\n      .then((response) => {\r\n        console.log(response);\r\n        setImgId(b);\r\n        setData(response);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    display();\r\n  }, []);\r\n\r\n  var resetValue = \"\";\r\n  localStorage.setItem(\"myValue\", resetValue);\r\n  return (\r\n    <div>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\"\r\n      />\r\n\r\n      <div></div>\r\n      <div id = \"contents\">\r\n        <center>\r\n          <img id=\"view_img\" src={data.data} />\r\n          <div>\r\n           \r\n          </div>\r\n        </center>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default View;\r\n","import Login from \"./components/login\";\nimport HomePage from \"./canvas/HomePage\";\nimport Test from \"./canvas/Test\"\nimport Images from \"./components/images\"\nimport View from \"./components/view\"\nimport \"./App.css\";\nimport { Container } from \"react-bootstrap\";\nimport {\n  HashRouter as Router,\n  Routes,\n  Route,\n  Link,\n  BrowserRouter,\n} from \"react-router-dom\";\nimport React, { Component }  from 'react';\n\nfunction App() {\n  return (\n    // <Router>\n   <BrowserRouter> \n    {/* <Navbar /> */}\n      <Routes>\n        <Route exact path=\"/\" element={<HomePage />}></Route>\n        <Route path = \"/images/:id\" element = {<Images/>}/>\n        <Route path = \"/view\" element = {<View/>}/>\n        {/* <Route path=\"/home\" element={<Login />}></Route> */}\n        {/* <Route exact path='/images' component={<Images/>} /> */}\n       \n        {/* <Route path = \"/images\" element = {<Images/>}></Route> */}\n      </Routes>\n      {/* </Router> */}\n    </BrowserRouter>\n\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}