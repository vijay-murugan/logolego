(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(28),o=a.n(c),i=(a(79),a(29),a(38),a(31)),l=a(16),u=a(10),s=a(17),d=(a(44),a(55),a(56),a(20)),f=function(e){var t=e.shapeProps,a=e.isSelected,n=e.onSelect,c=e.onChange,o=r.a.useRef(),i=r.a.useRef();return r.a.useEffect((function(){a&&(i.current.setNode(o.current),i.current.getLayer().batchDraw())}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,Object.assign({onClick:n,ref:o},t,{draggable:!0,onDragEnd:function(e){c(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var a=o.current,n=a.scaleX(),r=a.scaleY();a.scaleX(1),a.scaleY(1),c(Object(l.a)(Object(l.a)({},t),{},{x:a.x(),y:a.y(),width:a.width()*n,height:a.height()*r}))}})),a&&r.a.createElement(d.f,{ref:i}))},m=function(e){var t=e.shapeProps,a=e.isSelected,n=e.onSelect,c=e.onChange,o=r.a.useRef(),i=r.a.useRef();return r.a.useEffect((function(){a&&(i.current.setNode(o.current),i.current.getLayer().batchDraw())}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,Object.assign({onClick:n,ref:o},t,{draggable:!0,onDragEnd:function(e){c(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var a=o.current,n=a.scaleX(),r=a.scaleY();a.scaleX(1),a.scaleY(1),c(Object(l.a)(Object(l.a)({},t),{},{x:a.x(),y:a.y(),width:a.width()*n,height:a.height()*r}))}})),a&&r.a.createElement(d.f,{ref:i}))},g=a(37),h=!1,p=function(e){return"none"===e?(h=!1,0):"brush"===e?4:20},b=function(e,t,a){var n;e.on("mousedown touchstart",(function(r){h=!0;var c=e.getPointerPosition();n=new g.a.Line({stroke:"brush"===a?"black":"white",strokeWidth:p(a),globalCompositeOperation:"brush"===a?"source-over":"destination-out",lineCap:"round",points:[c.x,c.y]}),t.add(n)})),e.on("mouseup touchend",(function(){h=!1})),e.on("mousemove touchmove",(function(t){if(h){t.evt.preventDefault();var a=e.getPointerPosition(),r=n.points().concat([a.x,a.y]);n.points(r)}}))},y=a(120);Object(y.a)();var E=function(e,t){var a=Object(y.a)(),n=new g.a.Text({text:"double click to type here",x:50,y:80,fontSize:20,draggable:!0,width:200,id:a});t.add(n);var r=new g.a.Transformer({node:n,enabledAnchors:["middle-left","middle-right","middle-top"],boundBoxFunc:function(e,t){return t.width=Math.max(30,t.width),t.height=Math.max(30,t.height),t}});return e.on("click",(function(e){this.clickStartShape&&(e.target._id===this.clickStartShape._id?(t.add(r),r.attachTo(e.target),t.draw()):(r.detach(),t.draw()))})),n.on("transform",(function(){n.setAttrs({width:n.width()*n.scaleX(),height:n.height()*n.scaleY(),scaleX:1,scaleY:1})})),t.add(r),t.draw(),n.on("dblclick",(function(){n.hide(),r.hide(),t.draw();var a=n.absolutePosition(),c=e.container().getBoundingClientRect(),o=c.left+a.x,i=c.top+a.y,l=document.createElement("textarea");document.body.appendChild(l),l.value=n.text(),l.style.position="absolute",l.style.top=i+"px",l.style.left=o+"px",l.style.width=n.width()-2*n.padding()+"px",l.style.height=n.height()-2*n.padding()+5+"px",l.style.fontSize=n.fontSize()+"px",l.style.border="none",l.style.padding="0px",l.style.margin="0px",l.style.overflow="hidden",l.style.background="none",l.style.outline="none",l.style.resize="none",l.style.lineHeight=n.lineHeight(),l.style.fontFamily=n.fontFamily(),l.style.transformOrigin="left top",l.style.textAlign=n.align(),l.style.color=n.fill();var u=n.rotation(),s="";u&&(s+="rotateZ("+u+"deg)");var d=0;function f(){l.parentNode.removeChild(l),window.removeEventListener("click",m),n.show(),r.show(),r.forceUpdate(),t.draw()}function m(e){e.target!==l&&f(),r.hide()}navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(d+=2+Math.round(n.fontSize()/20)),s+="translateY(-"+d+"px)",l.style.transform=s,l.style.height="auto",l.style.height=l.scrollHeight+3+"px",l.focus(),l.addEventListener("keydown",(function(e){13===e.keyCode&&(n.text(l.value),f(),r.hide()),13!==e.keyCode||e.shiftKey||(n.text(l.value),f()),27===e.keyCode&&f()})),l.addEventListener("keydown",(function(e){var t=n.getAbsoluteScale().x;!function(e){e||(e=n.placeholder.length*n.fontSize());var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(t||a)&&(e=Math.ceil(e)),(document.documentMode||/Edge/.test(navigator.userAgent))&&(e+=1),l.style.width=e+"px"}(n.width()*t),l.style.height="auto",l.style.height=l.scrollHeight+n.fontSize()+"px"})),setTimeout((function(){window.addEventListener("click",m)}))})),a},v=a(52),S=a.n(v),O=(a(53),a(40)),j=a.n(O);a(101);Object(y.a)();var x=function(e){var t=e.image,a=e.shapeProps,n=e.unSelectShape,c=e.isSelected,o=e.onSelect,i=e.onChange,s=e.stageScale,f=e.onDelete,g=r.a.useRef(),h=r.a.useRef(),p=r.a.useRef(),b=S()(t.src),y=Object(u.a)(b,1)[0];r.a.useEffect((function(){c&&(h.current.nodes([g.current]),h.current.getLayer().batchDraw())}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,Object.assign({image:y,x:t.x,y:t.y,onMouseEnter:function(e){c&&(e.target.getStage().container().style.cursor="move"),c||(e.target.getStage().container().style.cursor="pointer")},onMouseLeave:function(e){e.target.getStage().container().style.cursor="default"},offsetX:y?y.width/2:0,offsetY:y?y.height/2:0,onClick:o,onTap:o,ref:g},a,{draggable:!0,onDragEnd:function(e){i(Object(l.a)(Object(l.a)({},a),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var t=g.current,n=t.scaleX(),r=t.scaleY();t.scaleX(1),t.scaleY(1),i(Object(l.a)(Object(l.a)({},a),{},{x:t.x(),y:t.y(),width:Math.max(5,t.width()*n),height:Math.max(t.height()*r)}))}})),c&&r.a.createElement(d.f,{ref:h,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}},r.a.createElement(m,{radius:8,fill:"red",ref:p,onClick:function(){n(null),f(g.current)},x:g.current.width()*s})))};var w=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),g=Object(u.a)(o,2),h=(g[0],g[1],Object(n.useState)([])),p=Object(u.a)(h,2),y=p[0],v=p[1],S=Object(n.useState)([]),O=Object(u.a)(S,2),j=(O[0],O[1],Object(n.useState)(null)),w=Object(u.a)(j,2),k=w[0],C=w[1],D=r.a.useState([]),P=Object(u.a)(D,2),T=P[0],L=P[1],I=r.a.useState(),R=Object(u.a)(I,2)[1],M=r.a.createRef(),F=r.a.createRef(),N=r.a.useState(""),Y=Object(u.a)(N,2),B=(Y[0],Y[1],r.a.useState("")),X=Object(u.a)(B,2),z=(X[0],X[1],r.a.useRef()),A=r.a.useState([]),q=Object(u.a)(A,2),J=q[0],W=q[1],_=r.a.useState([]),H=Object(u.a)(_,2),U=H[0],K=(H[1],r.a.useState([])),V=Object(u.a)(K,2),Z=(V[0],V[1],r.a.useState("")),G=Object(u.a)(Z,2),Q=G[0],$=G[1],ee=r.a.useState(""),te=Object(u.a)(ee,2),ae=(te[0],te[1],r.a.useState("")),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],oe=r.a.useState(!1),ie=Object(u.a)(oe,2),le=ie[0],ue=(ie[1],r.a.useState(!1)),se=Object(u.a)(ue,2),de=se[0],fe=se[1],me=r.a.useState(!1),ge=Object(u.a)(me,2),he=ge[0],pe=ge[1],be=r.a.useState(!0),ye=Object(u.a)(be,2),Ee=ye[0],ve=ye[1],Se=r.a.useState(!1),Oe=Object(u.a)(Se,2),je=Oe[0],xe=Oe[1],we=r.a.useState(!1),ke=Object(u.a)(we,2),Ce=ke[0],De=ke[1],Pe=r.a.useState(!1),Te=Object(u.a)(Pe,2),Le=Te[0],Ie=Te[1],Re=r.a.useState(!1),Me=Object(u.a)(Re,2),Fe=(Me[0],Me[1]),Ne=r.a.useState([""]),Ye=Object(u.a)(Ne,2),Be=(Ye[0],Ye[1],r.a.useState([""])),Xe=Object(u.a)(Be,2),ze=(Xe[0],Xe[1],Object(n.useState)(!0)),Ae=Object(u.a)(ze,2),qe=Ae[0],Je=(Ae[1],Object(n.useState)("")),We=Object(u.a)(Je,2),_e=We[0],He=We[1],Ue=Object(n.useState)(""),Ke=Object(u.a)(Ue,2),Ve=Ke[0],Ze=Ke[1],Ge=Object(n.useState)({scale:1,x:0,y:0}),Qe=Object(u.a)(Ge,2),$e=Qe[0],et=(Qe[1],function(e){var t=J.filter((function(t){return t.index!==e}));W(t)}),tt=function(e){C(e)},at=function(e){var t=Object(i.a)(J);t.splice(e.index,1),W(t)},nt=function(e){return Math.floor(Math.random()*Math.floor(e))},rt=function(e){null!=e&&(function(e){var t={img:e};fetch("https://logolego.bookmane.in/api/tmp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"Not Found"==e.key||"Search"===e.key?He(null):He(e.key)}))}(e),function(e){var t={img:e};fetch("https://logolego.bookmane.in/api/tmp/url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"Not Found"==e.key||"Search"===e.key?Ze(null):Ze(e.key)}))}(e)),document.getElementById("logo").style.visibility="visible"},ct=(r.a.useRef(),function(){pe(!0),xe(!0),ve(!1),De(!0),Fe(!0)}),ot=function(){M.current.setPointersPositions();var e=J.concat([Object(l.a)(Object(l.a)({},M.current.getRelativePointerPosition()),{},{src:z.current,id:"imag".concat(J.length+1)})]);W(e);var t=T.concat(["imag".concat(J.length+1)]);L(t)},it=r.a.useCallback((function(){return R({})}),[]);document.addEventListener("keydown",(function(e){if("Delete"===e.code){var t=y.findIndex((function(e){return e.id===k}));-1!==t&&(y.splice(t,1),v(y)),-1!==(t=a.findIndex((function(e){return e.id===k})))&&(a.splice(t,1),c(a)),t=J.findIndex((function(e){return e.id===k.id})),console.log(t),-1!==t&&(J.splice(t,1),W(J)),it()}}));var lt=function(){ct()};return r.a.createElement("div",{className:"home-page"},r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"}),r.a.createElement("center",null,r.a.createElement("div",{id:"input-area"},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search for the required logo",id:"myInput",onChange:function(e){return rt(e.target.value)}})),Ee?r.a.createElement(s.a,{color:"primary",id:"canvas-show-btn",onClick:ct,title:"Show Canvas"},"Show Canvas"):null),r.a.createElement("div",null),r.a.createElement("center",null),r.a.createElement("center",null,r.a.createElement("img",{key:"img3",id:"logo",src:_e,onLoad:lt,draggable:"true",onDragStart:function(e){z.current=e.target.src}}),r.a.createElement("img",{key:"img3",id:"logo",src:Ve,onLoad:lt,draggable:"true",onDragStart:function(e){z.current=e.target.src}})),je?r.a.createElement(s.a,{color:"primary",id:"canvas-hide-btn",onClick:function(){pe(!1),xe(!1),ve(!0),De(!1)},title:"Close"},r.a.createElement("i",{class:"fa-solid fa-xmark"})):null,r.a.createElement("div",null),r.a.createElement("div",{className:"container"},he?r.a.createElement("div",{id:"bts",role:"group","aria-label":"Basic example"},r.a.createElement("div",null),r.a.createElement(s.a,{color:"primary",onClick:function(){var e={x:nt(100),y:nt(100),width:100,height:100,strokeWidth:3,stroke:"black",id:"rect".concat(a.length+1)},t=a.concat([e]);c(t);var n=T.concat(["rect".concat(a.length+1)]);L(n),console.log("is",a.findIndex((function(e){return e.id})))},title:"Square"},r.a.createElement("i",{class:"fa-regular fa-square"})),r.a.createElement(s.a,{color:"primary",onClick:function(){var e={x:nt(100),y:nt(100),width:100,height:100,strokeWidth:3,stroke:"black",id:"circ".concat(y.length+1)},t=y.concat([e]);v(t);var a=T.concat(["circ".concat(y.length+1)]);L(a)},title:"Circle"},r.a.createElement("i",{class:"fa-regular fa-circle"})),r.a.createElement(s.a,{color:"primary",onClick:function(){qe&&b(M.current.getStage(),F.current,"brush")},title:"Pen"},r.a.createElement("i",{class:"fa-solid fa-pencil"})),r.a.createElement(s.a,{color:"primary",onClick:function(){b(M.current.getStage(),F.current,"erase")},title:"Eraser"},r.a.createElement("i",{class:"fa-solid fa-eraser"})),r.a.createElement(s.a,{color:"primary",onClick:function(){var e=E(M.current.getStage(),F.current),t=T.concat([e]);L(t)},title:"Text"},r.a.createElement("i",{class:"fa-solid fa-font"})),r.a.createElement(s.a,{color:"primary",onClick:function(){var e=T[T.length-1],t=y.findIndex((function(t){return t.id===e}));-1!==t&&(y.splice(t,1),v(y)),-1!==(t=a.findIndex((function(t){return t.id===e})))&&(a.splice(t,1),c(a)),-1!==(t=J.findIndex((function(t){return t.id===e})))&&(J.splice(t,1),W(J)),T.pop(),L(T),it()},title:"Undo Shape"},r.a.createElement("i",{class:"fa-solid fa-delete-left"})),r.a.createElement(s.a,{color:"primary",onClick:function(){b(M.current.getStage(),F.current,"none")},title:"Pointer"},r.a.createElement("i",{class:"fas fa-mouse-pointer"})),r.a.createElement(s.a,{color:"primary",onClick:function(){window.location.reload(!1)},title:"Clear"},"Clear"),le):null,U.map((function(e){return r.a.createElement("img",{src:e,draggable:"true",onDragStart:function(t){z.current=e}})})),r.a.createElement("div",{onDrop:function(e){e.preventDefault(),ot()},onDragOver:function(e){return e.preventDefault()}},he?r.a.createElement("div",{id:"child-canvas"},r.a.createElement("div",{onDrop:function(e){e.preventDefault(),ot()},onDragOver:function(e){return e.preventDefault()}}),r.a.createElement(d.e,{style:{border:"1px solid grey",width:"1080px",height:"640px",position:"relative",left:"10px",bottom:"20px",top:"5px",background:"#f4f7f6"},width:.7*window.innerWidth,height:window.innerHeight-108,ref:M,onMouseDown:function(e){e.target===e.target.getStage()&&C(null)}},r.a.createElement(d.c,{ref:F},J.map((function(e,t){return r.a.createElement(x,{image:e,key:t,shapeProps:e,stageScale:$e.scale,isSelected:e===k,unSelectShape:tt,onClick:et,onSelect:function(){C(e)},onChange:function(e){var a=J.slice();a[t]=e,W(a)},onDelete:at})})),a.map((function(e,t){return r.a.createElement(f,{key:t,shapeProps:e,isSelected:e.id===k,onSelect:function(){C(e.id)},onChange:function(e){var n=a.slice();n[t]=e,c(n)}})})),y.map((function(e,t){return r.a.createElement(m,{key:t,shapeProps:e,isSelected:e.id===k,onSelect:function(){C(e.id)},onChange:function(e){var a=y.slice();a[t]=e,v(a)}})})))),r.a.createElement("div",{id:"done-edit",role:"group","aria-label":"Basic example"},Ce?r.a.createElement(s.a,{color:"primary",onClick:function(){!function(){var e=M?M.current.getStage().toDataURL():null,t={img:e};console.log(e),fetch("http://localhost:5000/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){ce(e)}))}(),fe(!0),Ie(!0),De(!1)},title:"Done",id:"done-btn"},r.a.createElement("i",{class:"fa-solid fa-check"})):null,de?r.a.createElement(s.a,{color:"primary",onClick:function(){M&&M.current.getStage().toDataURL();sessionStorage.setItem("value",re),window.open("https://logolego.bookmane.in/images/".concat(re),"_blank")},title:"Preview",id:"preview-btn"},r.a.createElement("i",{class:"fa-solid fa-image"})):null,Le?r.a.createElement(s.a,{color:"primary",onClick:function(){fe(!1),De(!0),Ie(!1)},title:"Edit",id:"edit-btn"},r.a.createElement("i",{class:"fas fa-edit"})):null)):null,r.a.createElement("div",null,de?r.a.createElement("input",{type:"text",id:"tweet-textbox",value:Q,autoComplete:"off",placeholder:"Your tweet text goes here",onChange:function(e){return $(e.target.value)}}):null,de?r.a.createElement("a",{id:"twitter-share-button",title:"Tweet",href:"https://twitter.com/intent/tweet?text=".concat(Q,"&url=https://logolego.bookmane.in/images/").concat(re),"data-size":"large",target:"_blank"},"Tweet"):null))))};a(71),a(107);Object(y.a)();var k=a(13),C=(a(109),function(){var e=Object(k.g)().id,t=r.a.useState([]),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),d=Object(u.a)(l,2),f=d[0],m=d[1];Object(n.useEffect)((function(){j.a.get("http://localhost:5000/api/images/".concat(e)).then((function(e){m(e.data),o((function(t){return Object(i.a)(e.data.comments)})),console.log(e.data.comments)}))}),[]);var g=c.map((function(e){return r.a.createElement("p",null," ",r.a.createElement("label",{for:"name"},r.a.createElement("span",null,"Name:",e.name," "),r.a.createElement("label",{for:"body"},"Comment: ",e.body)))}));return r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",{id:"content"},r.a.createElement("center",null,r.a.createElement("img",{id:"view_img",src:f.img}))),g,r.a.createElement("div",{id:"comments"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",class:"question",id:"name",required:!0,autocomplete:"off"}),r.a.createElement("label",{for:"name"},r.a.createElement("span",null,"What's your name?")),r.a.createElement("input",{type:"text",name:"message",rows:"2",class:"question",id:"body",required:!0,autocomplete:"off"}),r.a.createElement("label",{for:"body"},r.a.createElement("span",null,"What's your comment?")),r.a.createElement("div",null,r.a.createElement("p",null)),r.a.createElement(s.a,{color:"primary",onClick:function(t){t.preventDefault();var a={comment:{name:document.getElementById("name").value,body:document.getElementById("body").value}};fetch("https://logolego.bookmane.in/api/update/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})),window.location.reload()}},"Comment"))))});a(110);var D=function(){var e=r.a.useState(""),t=Object(u.a)(e,2),a=(t[0],t[1],r.a.useState("")),c=Object(u.a)(a,2),o=(c[0],c[1]),i=sessionStorage.getItem("value"),l=Object(n.useState)([]),s=Object(u.a)(l,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){j.a.get("https://logolego.bookmane.in/api/images/"+i).then((function(e){console.log(e),o(i),f(e)}))}),[]),localStorage.setItem("myValue",""),r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"}),r.a.createElement("div",null),r.a.createElement("div",{id:"contents"},r.a.createElement("center",null,r.a.createElement("img",{id:"view_img",src:d.data}),r.a.createElement("div",null))))},P=(a(111),a(39));var T=function(){return r.a.createElement(P.a,null,r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/",element:r.a.createElement(w,null)}),r.a.createElement(k.a,{path:"/images/:id",element:r.a.createElement(C,null)}),r.a.createElement(k.a,{path:"/view",element:r.a.createElement(D,null)})))},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,121)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),L()},56:function(e,t,a){},75:function(e,t,a){e.exports=a(112)},79:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.442f5965.chunk.js.map