(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(28),o=n.n(c),i=(n(79),n(29),n(38),n(37)),l=n(16),s=n(12),u=n(18),d=n(13),f=(n(42),n(55),n(56),n(20)),g=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,c=e.onChange,o=r.a.useRef(),i=r.a.useRef();return r.a.useEffect((function(){n&&(i.current.setNode(o.current),i.current.getLayer().batchDraw())}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.d,Object.assign({onClick:a,ref:o},t,{draggable:!0,onDragEnd:function(e){c(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=o.current,a=n.scaleX(),r=n.scaleY();n.scaleX(1),n.scaleY(1),c(Object(l.a)(Object(l.a)({},t),{},{x:n.x(),y:n.y(),width:n.width()*a,height:n.height()*r}))}})),n&&r.a.createElement(f.f,{ref:i}))},m=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,c=e.onChange,o=r.a.useRef(),i=r.a.useRef();return r.a.useEffect((function(){n&&(i.current.setNode(o.current),i.current.getLayer().batchDraw())}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,Object.assign({onClick:a,ref:o},t,{draggable:!0,onDragEnd:function(e){c(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=o.current,a=n.scaleX(),r=n.scaleY();n.scaleX(1),n.scaleY(1),c(Object(l.a)(Object(l.a)({},t),{},{x:n.x(),y:n.y(),width:n.width()*a,height:n.height()*r}))}})),n&&r.a.createElement(f.f,{ref:i}))},h=n(36),p=!1,b=function(e){return"none"===e?(p=!1,0):"brush"===e?4:20},y=function(e,t,n){var a;e.on("mousedown touchstart",(function(r){p=!0;var c=e.getPointerPosition();a=new h.a.Line({stroke:"brush"===n?"black":"white",strokeWidth:b(n),globalCompositeOperation:"brush"===n?"source-over":"destination-out",points:[c.x,c.y],draggable:"brush"===n}),t.add(a)})),e.on("mouseup touchend",(function(){p=!1})),e.on("mousemove touchmove",(function(){if(p){var n=e.getPointerPosition(),r=a.points().concat([n.x,n.y]);a.points(r),t.batchDraw()}}))},v=n(118);Object(v.a)();var E=function(e,t){var n=Object(v.a)(),a=new h.a.Text({text:"double click to type here",x:50,y:80,fontSize:20,draggable:!0,width:200,id:n});t.add(a);var r=new h.a.Transformer({node:a,enabledAnchors:["middle-left","middle-right"],boundBoxFunc:function(e,t){return t.width=Math.max(30,t.width),t}});return e.on("click",(function(e){this.clickStartShape&&(e.target._id===this.clickStartShape._id?(t.add(r),r.attachTo(e.target),t.draw()):(r.detach(),t.draw()))})),a.on("transform",(function(){a.setAttrs({width:a.width()*a.scaleX(),scaleX:1})})),t.add(r),t.draw(),a.on("dblclick",(function(){a.hide(),r.hide(),t.draw();var n=a.absolutePosition(),c=e.container().getBoundingClientRect(),o=c.left+n.x,i=c.top+n.y,l=document.createElement("textarea");document.body.appendChild(l),l.value=a.text(),l.style.position="absolute",l.style.top=i+"px",l.style.left=o+"px",l.style.width=a.width()-2*a.padding()+"px",l.style.height=a.height()-2*a.padding()+5+"px",l.style.fontSize=a.fontSize()+"px",l.style.border="none",l.style.padding="0px",l.style.margin="0px",l.style.overflow="hidden",l.style.background="none",l.style.outline="none",l.style.resize="none",l.style.lineHeight=a.lineHeight(),l.style.fontFamily=a.fontFamily(),l.style.transformOrigin="left top",l.style.textAlign=a.align(),l.style.color=a.fill();var s=a.rotation(),u="";s&&(u+="rotateZ("+s+"deg)");var d=0;function f(){l.parentNode.removeChild(l),window.removeEventListener("click",g),a.show(),r.show(),r.forceUpdate(),t.draw()}function g(e){e.target!==l&&f(),r.hide()}navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(d+=2+Math.round(a.fontSize()/20)),u+="translateY(-"+d+"px)",l.style.transform=u,l.style.height="auto",l.style.height=l.scrollHeight+3+"px",l.focus(),l.addEventListener("keydown",(function(e){13!==e.keyCode||e.shiftKey||(a.text(l.value),f()),27===e.keyCode&&f()})),l.addEventListener("keydown",(function(e){var t=a.getAbsoluteScale().x;!function(e){e||(e=a.placeholder.length*a.fontSize());var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),n=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(t||n)&&(e=Math.ceil(e)),(document.documentMode||/Edge/.test(navigator.userAgent))&&(e+=1),l.style.width=e+"px"}(a.width()*t),l.style.height="auto",l.style.height=l.scrollHeight+a.fontSize()+"px"})),setTimeout((function(){window.addEventListener("click",g)}))})),n},S=n(51),w=n.n(S),x=(n(52),n(53)),O=n.n(x);n(101);Object(v.a)();var j=function(e){var t=e.image,n=e.shapeProps,a=e.unSelectShape,c=e.isSelected,o=e.onSelect,i=e.onChange,u=e.stageScale,d=e.onDelete,g=r.a.useRef(),h=r.a.useRef(),p=r.a.useRef(),b=w()(t.src),y=Object(s.a)(b,1)[0];r.a.useEffect((function(){c&&(h.current.nodes([g.current]),h.current.getLayer().batchDraw())}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,Object.assign({image:y,x:t.x,y:t.y,onMouseEnter:function(e){c&&(e.target.getStage().container().style.cursor="move"),c||(e.target.getStage().container().style.cursor="pointer")},onMouseLeave:function(e){e.target.getStage().container().style.cursor="default"},offsetX:y?y.width/2:0,offsetY:y?y.height/2:0,onClick:o,onTap:o,ref:g},n,{draggable:!0,onDragEnd:function(e){i(Object(l.a)(Object(l.a)({},n),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var t=g.current,a=t.scaleX(),r=t.scaleY();t.scaleX(1),t.scaleY(1),i(Object(l.a)(Object(l.a)({},n),{},{x:t.x(),y:t.y(),width:Math.max(5,t.width()*a),height:Math.max(t.height()*r)}))}})),c&&r.a.createElement(f.f,{ref:h,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}},r.a.createElement(m,{radius:8,fill:"red",ref:p,onClick:function(){a(null),d(g.current)},x:g.current.width()*u})))};var k=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),h=Object(s.a)(o,2),p=h[0],b=h[1],v=Object(a.useState)(null),S=Object(s.a)(v,2),w=S[0],x=S[1],O=r.a.useState([]),k=Object(s.a)(O,2),C=k[0],D=k[1],P=r.a.useState(),L=Object(s.a)(P,2)[1],T=r.a.createRef(),R=r.a.createRef(),N=r.a.useState(""),F=Object(s.a)(N,2),M=(F[0],F[1],r.a.useState("")),I=Object(s.a)(M,2),z=I[0],A=(I[1],r.a.useRef()),X=r.a.useState([]),Y=Object(s.a)(X,2),U=Y[0],B=Y[1],H=r.a.useState([]),J=Object(s.a)(H,2),W=J[0],q=(J[1],r.a.useState([])),_=Object(s.a)(q,2),K=_[0],Z=_[1],G=r.a.useState([]),Q=Object(s.a)(G,2),V=(Q[0],Q[1],r.a.useState("")),$=Object(s.a)(V,2),ee=$[0],te=$[1],ne=r.a.useState(""),ae=Object(s.a)(ne,2),re=ae[0],ce=ae[1],oe=r.a.useState(!1),ie=Object(s.a)(oe,2),le=ie[0],se=(ie[1],r.a.useState(!1)),ue=Object(s.a)(se,2),de=ue[0],fe=ue[1],ge=r.a.useState(!1),me=Object(s.a)(ge,2),he=me[0],pe=me[1],be=r.a.useState(!0),ye=Object(s.a)(be,2),ve=ye[0],Ee=ye[1],Se=r.a.useState(!1),we=Object(s.a)(Se,2),xe=we[0],Oe=we[1],je=r.a.useState(!1),ke=Object(s.a)(je,2),Ce=ke[0],De=ke[1],Pe=r.a.useState([""]),Le=Object(s.a)(Pe,2),Te=(Le[0],Le[1],r.a.useState([""])),Re=Object(s.a)(Te,2),Ne=Re[0],Fe=Re[1],Me=Object(a.useState)(!0),Ie=Object(s.a)(Me,2),ze=Ie[0],Ae=(Ie[1],Object(a.useState)("")),Xe=Object(s.a)(Ae,2),Ye=Xe[0],Ue=Xe[1],Be=Object(a.useState)(""),He=Object(s.a)(Be,2),Je=He[0],We=He[1],qe=Object(a.useState)({scale:1,x:0,y:0}),_e=Object(s.a)(qe,2),Ke=_e[0],Ze=(_e[1],function(e){var t=U.filter((function(t){return t.index!==e}));B(t)}),Ge=function(e){x(e)},Qe=function(e){var t=Object(i.a)(U);t.splice(e.index,1),B(t)},Ve=(Object(d.g)().id,function(e){return Math.floor(Math.random()*Math.floor(e))}),$e=function(e){null!=e&&(function(e){var t={img:e};fetch("https://logolego.bookmane.in/api/tmp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"Not Found"==e.key||"Search"===e.key?Ue(null):(Ue(e.key),console.log("res = ",e.key))}))}(e),function(e){var t={img:e};fetch("https://logolego.bookmane.in/api/tmp/url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"Not Found"==e.key||"Search"===e.key?We(null):(We(e.key),console.log("res = ",e.key))}))}(e))},et=function(){pe(!0),Oe(!0),Ee(!1),De(!0)},tt=r.a.useCallback((function(){return L({})}),[]);document.addEventListener("keydown",(function(e){if("Delete"===e.code){var t=p.findIndex((function(e){return e.id===w}));-1!==t&&(p.splice(t,1),b(p)),-1!==(t=n.findIndex((function(e){return e.id===w})))&&(n.splice(t,1),c(n)),-1!==(t=U.findIndex((function(e){return e.id===w})))&&(U.splice(t,1),B(U)),tt()}}));var nt=function(){et()};return r.a.createElement("div",{className:"home-page"},r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"}),r.a.createElement("center",null,r.a.createElement("div",{id:"input-area"},r.a.createElement("textarea",{autoComplete:"off",placeholder:"Search for the required logo",id:"myInput",name:"name",className:"textzone",onChange:function(e){return $e(e.target.value)}})),ve?r.a.createElement(u.a,{color:"primary",id:"canvas-show-btn",onClick:et,title:"Show Canvas"},"Show Canvas"):null),r.a.createElement("div",null),r.a.createElement("center",null),r.a.createElement("center",null,r.a.createElement("img",{key:"img3",id:"logo",src:Ye,onLoad:nt,draggable:"true",onDragStart:function(e){A.current=e.target.src}}),r.a.createElement("img",{key:"img3",id:"logo",src:Je,onLoad:nt,draggable:"true",onDragStart:function(e){A.current=e.target.src}}),r.a.createElement("img",{src:function(e){var t=document.createElement("img");return t.setAttribute("crossOrigin","anonymous"),t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0);var n=e.toDataURL("image/png");Fe(n)},t.src=e,Ne}(z),draggable:"true",onDragStart:function(e){A.current=e.target.src}})),xe?r.a.createElement(u.a,{color:"primary",id:"canvas-hide-btn",onClick:function(){pe(!1),Oe(!1),Ee(!0),De(!1)},title:"Close"},r.a.createElement("i",{class:"fa-solid fa-xmark"})):null,r.a.createElement("div",null),r.a.createElement("div",{className:"container"},he?r.a.createElement("div",{className:"bts",role:"group","aria-label":"Basic example"},r.a.createElement("div",null),r.a.createElement(u.a,{color:"primary",onClick:function(){var e={x:Ve(100),y:Ve(100),width:100,height:100,strokeWidth:3,stroke:"black",id:"rect".concat(n.length+1)},t=n.concat([e]);c(t);var a=C.concat(["rect".concat(n.length+1)]);D(a)},title:"Square"},r.a.createElement("i",{class:"fa-regular fa-square"})),r.a.createElement(u.a,{color:"primary",onClick:function(){var e={x:Ve(100),y:Ve(100),width:100,height:100,strokeWidth:3,stroke:"black",id:"circ".concat(p.length+1)},t=p.concat([e]);b(t);var n=C.concat(["circ".concat(p.length+1)]);D(n)},title:"Circle"},r.a.createElement("i",{class:"fa-regular fa-circle"})),r.a.createElement(u.a,{color:"primary",onClick:function(){ze&&y(T.current.getStage(),R.current,"brush")},title:"Pen"},r.a.createElement("i",{class:"fa-solid fa-pencil"})),r.a.createElement(u.a,{color:"primary",onClick:function(){y(T.current.getStage(),R.current,"erase")},title:"Eraser"},r.a.createElement("i",{class:"fa-solid fa-eraser"})),r.a.createElement(u.a,{color:"primary",onClick:function(){var e=E(T.current.getStage(),R.current),t=C.concat([e]);D(t)},title:"Text"},r.a.createElement("i",{class:"fa-solid fa-font"})),r.a.createElement(u.a,{color:"primary",onClick:function(){var e=C[C.length-1],t=p.findIndex((function(t){return t.id===e}));-1!==t&&(p.splice(t,1),b(p)),-1!==(t=n.findIndex((function(t){return t.id===e})))&&(n.splice(t,1),c(n)),C.pop(),D(C),tt()},title:"Undo Shape"},r.a.createElement("i",{class:"fa-solid fa-delete-left"})),r.a.createElement(u.a,{color:"primary",onClick:function(){var e=U.length-1;console.log("ind-",e),-1!==e&&(console.log("len -",e),U.splice(e,1),B(U)),tt()},title:"Undo Image"},r.a.createElement("i",{class:"fa fa-undo","aria-hidden":"true"})),r.a.createElement(u.a,{color:"primary",onClick:function(){y(T.current.getStage(),R.current,"none")},title:"Pointer"},r.a.createElement("i",{class:"fas fa-mouse-pointer"})),r.a.createElement(u.a,{color:"primary",onClick:function(){window.location.reload(!1)},title:"Clear"},"Clear"),le):null,W.map((function(e){return r.a.createElement("img",{src:e,draggable:"true",onDragStart:function(t){A.current=e}})})),r.a.createElement("div",{onDrop:function(e){e.preventDefault(),T.current.setPointersPositions(e),B(U.concat([Object(l.a)(Object(l.a)({},T.current.getRelativePointerPosition()),{},{src:A.current})]))},onDragOver:function(e){return e.preventDefault()}},he?r.a.createElement("div",{id:"child-canvas"},r.a.createElement("div",{onDrop:function(e){e.preventDefault(),T.current.setPointersPositions(e),B(U.concat([Object(l.a)(Object(l.a)({},T.current.getRelativePointerPosition()),{},{src:A.current})]))},onDragOver:function(e){return e.preventDefault()}}),r.a.createElement(f.e,{style:{border:"1px solid grey",width:"1250px",position:"relative",left:"10px",bottom:"20px",top:"5px",background:"#f4f7f6"},width:.775*window.innerWidth,height:window.innerHeight-150,ref:T,onMouseDown:function(e){e.target===e.target.getStage()&&x(null)}},r.a.createElement(f.c,{ref:R},U.map((function(e,t){return r.a.createElement(j,{image:e,key:t,shapeProps:e,stageScale:Ke.scale,isSelected:e===w,unSelectShape:Ge,onClick:Ze,onSelect:function(){x(e)},onChange:function(e){var n=U.slice();n[t]=e,B(n)},onDelete:Qe})})),n.map((function(e,t){return r.a.createElement(g,{key:t,shapeProps:e,isSelected:e.id===w,onSelect:function(){x(e.id)},onChange:function(e){var a=n.slice();a[t]=e,c(a)}})})),p.map((function(e,t){return r.a.createElement(m,{key:t,shapeProps:e,isSelected:e.id===w,onSelect:function(){x(e.id)},onChange:function(e){var n=p.slice();n[t]=e,b(n)}})})),U.map((function(e,t){return r.a.createElement(f.b,{key:t,imageUrl:e.content,isSelected:e.id===w,onSelect:function(){x(e.id)},onChange:function(e){U.slice()[t]=e}})}))))):null,Ce?r.a.createElement(u.a,{color:"primary",onClick:function(){var e=T?T.current.getStage().toDataURL():null;console.log("dataurl=",e);var t=document.createElement("a");t.href=e,function(){var e={img:T?T.current.getStage().toDataURL():null};fetch("https://logolego.bookmane.in/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){ce(e),console.log(e)}))}(),Z(t.href),fe(!0),pe(!1),De(!1),Oe(!1)},title:"Preview",id:"preview-btn"},r.a.createElement("i",{class:"fas fa-arrow-right"})):null,de?r.a.createElement("button",{type:"button",id:"reset-btn",class:"btn btn-primary",onClick:function(){Z(null),fe(!1),pe(!0),De(!0),Oe(!0)}},"Reset"):null,r.a.createElement("div",{className:"child-preview",id:"preview"},r.a.createElement("img",{id:"preview-image",src:K,width:"1000"}),r.a.createElement("div",{className:"tweet-text",id:"textbox-chars"},de?r.a.createElement("textarea",{className:"tweet-text-area",value:ee,onChange:function(e){return te(e.target.value)}}):null,de?r.a.createElement("a",{class:"twitter-share-button",href:"https://twitter.com/intent/tweet?text=".concat(ee,"&url=https://logolego.bookmane.in/images/").concat(re),"data-size":"large",target:"_blank"},"Tweet"):null)))))};n(71),n(107);Object(v.a)();var C=function(){var e=Object(d.g)().id,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){O.a.get("https://logolego.bookmane.in/api/images/".concat(e)).then((function(e){console.log(e),o(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("img",{src:c.data}))},D=(n(109),n(46));var P=function(){return r.a.createElement(D.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",element:r.a.createElement(k,null)}),r.a.createElement(d.a,{path:"/images/:id",element:r.a.createElement(C,null)})))},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),L()},56:function(e,t,n){},75:function(e,t,n){e.exports=n(110)},79:function(e,t,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.d1a74310.chunk.js.map